<!DOCTYPE html>
<html>
<body>
<h1>Order Notifications</h1>
<div id="notifications"></div>

<script>
const evtSource = new EventSource("http://localhost:3003/api/notifications");
const notificationsDiv = document.getElementById("notifications");

evtSource.onmessage = function(event) {
  const notification = JSON.parse(event.data);
  const p = document.createElement("p");
  p.textContent = `New order from ${notification.fullName}, Order Code: ${notification.codeOrder}`;
  notificationsDiv.appendChild(p);
};

evtSource.onerror = function(err) {
  console.error("EventSource failed:", err);
};
</script>
</body>
</html>